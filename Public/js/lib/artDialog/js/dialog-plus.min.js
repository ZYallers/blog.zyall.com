/*! artDialog v6.0.2 | https://github.com/aui/artDialog */
;!(function(){var b={};function a(f){var e=b[f];var d="exports";if(typeof e==="object"){return e}if(!e[d]){e[d]={};e[d]=e.call(e[d],a,e[d],e)||e[d]}return e[d]}function c(e,d){b[e]=d}c("jquery",function(){return jQuery});
/*!
 * popupjs
 * Date: 2014-01-15
 * https://github.com/aui/popupjs
 * (c) 2009-2014 TangBin, http://www.planeArt.cn
 *
 * This is licensed under the GNU LGPL, version 2.1 or later.
 * For details, see: http://www.gnu.org/licenses/lgpl-2.1.html
 */
;c("popup",function(e){var i=e("jquery");var d=0;var f=!("minWidth" in i("html")[0].style);var h=!f;function g(){this.destroyed=false;this.__popup=i("<div />").attr({tabindex:"-1"}).css({display:"none",position:"absolute",outline:0}).html(this.innerHTML).appendTo("body");this.__backdrop=i("<div />");this.node=this.__popup[0];this.backdrop=this.__backdrop[0];d++}i.extend(g.prototype,{node:null,backdrop:null,fixed:false,destroyed:true,open:false,returnValue:"",autofocus:true,align:"bottom left",backdropBackground:"#000",backdropOpacity:0.7,innerHTML:"",className:"ui-popup",show:function(k){if(this.destroyed){return this}var l=this;var j=this.__popup;this.__activeElement=this.__getActive();this.open=true;this.follow=k||this.follow;if(!this.__ready){j.addClass(this.className);if(this.modal){this.__lock()}if(!j.html()){j.html(this.innerHTML)}if(!f){i(window).on("resize",this.__onresize=function(){l.reset()})}this.__ready=true}j.addClass(this.className+"-show").attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute").show();this.__backdrop.show();this.reset().focus();this.__dispatchEvent("show");return this},showModal:function(){this.modal=true;return this.show.apply(this,arguments)},close:function(j){if(!this.destroyed&&this.open){if(j!==undefined){this.returnValue=j}this.__popup.hide().removeClass(this.className+"-show");this.__backdrop.hide();this.open=false;this.blur();this.__dispatchEvent("close")}return this},remove:function(){if(this.destroyed){return this}this.__dispatchEvent("beforeremove");if(g.current===this){g.current=null}this.__unlock();this.__popup.remove();this.__backdrop.remove();if(!f){i(window).off("resize",this.__onresize)}this.__dispatchEvent("remove");for(var j in this){delete this[j]}return this},reset:function(){var j=this.follow;if(j){this.__follow(j)}else{this.__center()}this.__dispatchEvent("reset");return this},focus:function(){var j=this.node;var k=g.current;if(k&&k!==this){k.blur(false)}if(!i.contains(j,this.__getActive())){var l=this.__popup.find("[autofocus]")[0];if(!this._autofocus&&l){this._autofocus=true}else{l=j}this.__focus(l)}g.current=this;this.__popup.addClass(this.className+"-focus");this.__zIndex();this.__dispatchEvent("focus");return this},blur:function(){var j=this.__activeElement;var k=arguments[0];if(k!==false){this.__focus(j)}this._autofocus=false;this.__popup.removeClass(this.className+"-focus");this.__dispatchEvent("blur");return this},addEventListener:function(j,k){this.__getEventListener(j).push(k);return this},removeEventListener:function(l,m){var k=this.__getEventListener(l);for(var j=0;j<k.length;j++){if(m===k[j]){k.splice(j--,1)}}return this},__getEventListener:function(j){var k=this.__listener;if(!k){k=this.__listener={}}if(!k[j]){k[j]=[]}return k[j]},__dispatchEvent:function(l){var k=this.__getEventListener(l);if(this["on"+l]){this["on"+l]()}for(var j=0;j<k.length;j++){k[j].call(this)}},__focus:function(j){try{if(this.autofocus&&!/^iframe$/i.test(j.nodeName)){j.focus()}}catch(k){}},__getActive:function(){try{var l=document.activeElement;var j=l.contentDocument;var k=j&&j.activeElement||l;return k}catch(m){}},__zIndex:function(){var j=g.zIndex++;this.__popup.css("zIndex",j);this.__backdrop.css("zIndex",j-1);this.zIndex=j},__center:function(){var k=this.__popup;var m=i(window);var q=i(document);var r=this.fixed;var t=r?0:q.scrollLeft();var n=r?0:q.scrollTop();var s=m.width();var l=m.height();var o=k.width();var v=k.height();var p=(s-o)/2+t;var u=(l-v)*382/1000+n;var j=k[0].style;j.left=Math.max(parseInt(p),t)+"px";j.top=Math.max(parseInt(u),n)+"px"},__follow:function(t){var k=t.parentNode&&i(t);var j=this.__popup;if(this.__followSkin){j.removeClass(this.__followSkin)}if(k){var J=k.offset();if(J.left*J.top<0){return this.__center()}}var u=this;var p=this.fixed;var F=i(window);var Q=i(document);var E=F.width();var l=F.height();var q=Q.scrollLeft();var s=Q.scrollTop();var L=j.width();var C=j.height();var K=k?k.outerWidth():0;var H=k?k.outerHeight():0;var r=this.__offset(t);var A=r.left;var z=r.top;var n=p?A-q:A;var G=p?z-s:z;var I=p?0:q;var w=p?0:s;var N=I+E-L;var R=w+l-C;var B={};var M=this.align.split(" ");var m=this.className+"-";var v={top:"bottom",bottom:"top",left:"right",right:"left"};var S={top:"top",bottom:"top",left:"left",right:"left"};var O=[{top:G-C,bottom:G+H,left:n-L,right:n+K},{top:G,bottom:G-C+H,left:n,right:n-L+K}];var P={left:n+K/2-L/2,top:G+H/2-C/2};var D={left:[I,N],top:[w,R]};i.each(M,function(o,x){if(O[o][x]>D[S[x]][1]){x=M[o]=v[x]}if(O[o][x]<D[S[x]][0]){M[o]=v[x]}});if(!M[1]){S[M[1]]=S[M[0]]==="left"?"top":"left";O[1][M[1]]=P[S[M[1]]]}m+=M.join("-")+" "+this.className+"-follow";u.__followSkin=m;if(k){j.addClass(m)}B[S[M[0]]]=parseInt(O[0][M[0]]);B[S[M[1]]]=parseInt(O[1][M[1]]);j.css(B)},__offset:function(n){var r=n.parentNode;var l=r?i(n).offset():{left:n.pageX,top:n.pageY};n=r?n:n.target;var u=n.ownerDocument;var o=u.defaultView||u.parentWindow;if(o==window){return l}var m=o.frameElement;var s=i(u);var j=s.scrollLeft();var t=s.scrollTop();var q=i(m).offset();var p=q.left;var k=q.top;return{left:l.left+p-j,top:l.top+k-t}},__lock:function(){var m=this;var j=this.__popup;var k=this.__backdrop;var l={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",opacity:0,background:this.backdropBackground};j.addClass(this.className+"-modal");g.zIndex=g.zIndex+2;this.__zIndex();if(!h){i.extend(l,{position:"absolute",width:i(window).width()+"px",height:i(document).height()+"px"})}k.css(l).animate({opacity:this.backdropOpacity},150).insertAfter(j).attr({tabindex:"0"}).on("focus",function(){m.focus()})},__unlock:function(){if(this.modal){this.__popup.removeClass(this.className+"-modal");this.__backdrop.remove();delete this.modal}}});g.zIndex=1024;g.current=null;return g});c("dialog-config",{content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:true,width:"",height:"",padding:"",skin:"",quickClose:false,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close"><i class="icon-times"></i></button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'});
/*!
 * artDialog
 * Date: 2014-06-29
 * https://github.com/aui/artDialog
 * (c) 2009-2014 TangBin, http://www.planeArt.cn
 *
 * This is licensed under the GNU LGPL, version 2.1 or later.
 * For details, see: http://www.gnu.org/licenses/lgpl-2.1.html
 */
;c("dialog",function(f){var i=f("jquery");var q=f("popup");var g=f("dialog-config");var j=g.cssUri;if(j){var l=f[f.toUrl?"toUrl":"resolve"];if(l){j=l(j);j='<link rel="stylesheet" href="'+j+'" />';if(i("base")[0]){i("base").before(j)}else{i("head").append(j)}}}var m=0;var p=new Date()-0;var k=!("minWidth" in i("html")[0].style);var o="createTouch" in document&&!("onmousemove" in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent);var h=!k&&!o;var e=function(r,s,u){var w=r=r||{};if(typeof r==="string"||r.nodeType===1){r={content:r,fixed:!o}}r=i.extend(true,{},e.defaults,r);r._=w;var v=r.id=r.id||p+m;var t=e.get(v);if(t){return t.focus()}if(!h){r.fixed=false}if(r.quickClose){r.modal=true;if(!w.backdropOpacity){r.backdropOpacity=0}}if(!i.isArray(r.button)){r.button=[]}if(u!==undefined){r.cancel=u}if(r.cancel){r.button.push({id:"cancel",value:r.cancelValue,callback:r.cancel,display:r.cancelDisplay})}if(s!==undefined){r.ok=s}if(r.ok){r.button.push({id:"ok",value:r.okValue,callback:r.ok,autofocus:true})}return e.list[v]=new e.create(r)};var d=function(){};d.prototype=q.prototype;var n=e.prototype=new d();e.create=function(r){var s=this;i.extend(this,new q());var t=i(this.node).html(r.innerHTML);this.options=r;this._popup=t;i.each(r,function(u,v){if(typeof s[u]==="function"){s[u](v)}else{s[u]=v}});if(r.zIndex){q.zIndex=r.zIndex}t.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")});this._$("close").css("display",this.cancel===false?"none":"").attr("title",this.cancelValue).on("click",function(u){s._trigger("cancel");u.preventDefault()});this._$("dialog").addClass(this.skin);this._$("body").css("padding",this.padding);t.on("click","[data-id]",function(u){var v=i(this);if(!v.attr("disabled")){s._trigger(v.data("id"))}u.preventDefault()});if(r.quickClose){i(this.backdrop).on("onmousedown" in document?"mousedown":"click",function(){s._trigger("cancel");return false})}this._esc=function(w){var y=w.target;var z=y.nodeName;var u=/^input|textarea$/i;var v=q.current===s;var x=w.keyCode;if(!v||u.test(z)&&y.type!=="button"){return}if(x===27){s._trigger("cancel")}};i(document).on("keydown",this._esc);this.addEventListener("remove",function(){i(document).off("keydown",this._esc);delete e.list[this.id]});m++;e.oncreate(this);return this};e.create.prototype=n;i.extend(n,{content:function(r){this._$("content").empty("")[typeof r==="object"?"append":"html"](r);return this.reset()},title:function(r){this._$("title").html(r);this._$("header")[r?"show":"hide"]();return this},width:function(r){this._$("content").css("width",r);return this.reset()},height:function(r){this._$("content").css("height",r);return this.reset()},button:function(r){r=r||[];var u=this;var s="";var t=0;this.callbacks={};if(typeof r==="string"){s=r}else{i.each(r,function(v,x){x.id=x.id||x.value;u.callbacks[x.id]=x.callback;var w="";if(x.display===false){w=' style="display:none"'}else{t++}s+='<button type="button" data-id="'+x.id+'"'+w+(x.disabled?" disabled":"")+(x.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+x.value+"</button>"})}this._$("footer")[t?"show":"hide"]();this._$("button").html(s);return this},statusbar:function(r){this._$("statusbar").html(r)[r?"show":"hide"]();return this},_$:function(r){return this._popup.find("[i="+r+"]")},_trigger:function(s){var r=this.callbacks[s];return typeof r!=="function"||r.call(this)!==false?this.close().remove():this}});e.oncreate=i.noop;e.getCurrent=function(){return q.current};e.get=function(r){return r===undefined?e.list:e.list[r]};e.list={};e.defaults=g;return e});
/*!
 * drag.js
 * Date: 2013-12-06
 * https://github.com/aui/artDialog
 * (c) 2009-2014 TangBin, http://www.planeArt.cn
 *
 * This is licensed under the GNU LGPL, version 2.1 or later.
 * For details, see: http://www.gnu.org/licenses/lgpl-2.1.html
 */
;c("drag",function(f){var j=f("jquery");var d=j(window);var g=j(document);var h="createTouch" in document;var k=document.documentElement;var i=!("minWidth" in k.style);var l=!i&&"onlosecapture" in k;var e="setCapture" in k;var m={start:h?"touchstart":"mousedown",over:h?"touchmove":"mousemove",end:h?"touchend":"mouseup"};var n=h?function(p){if(!p.touches){p=p.originalEvent.touches.item(0)}return p}:function(p){return p};var o=function(){this.start=j.proxy(this.start,this);this.over=j.proxy(this.over,this);this.end=j.proxy(this.end,this);this.onstart=this.onover=this.onend=j.noop};o.types=m;o.prototype={start:function(p){p=this.startFix(p);g.on(m.over,this.over).on(m.end,this.end);this.onstart(p);return false},over:function(p){p=this.overFix(p);this.onover(p);return false},end:function(p){p=this.endFix(p);g.off(m.over,this.over).off(m.end,this.end);this.onend(p);return false},startFix:function(p){p=n(p);this.target=j(p.target);this.selectstart=function(){return false};g.on("selectstart",this.selectstart).on("dblclick",this.end);if(l){this.target.on("losecapture",this.end)}else{d.on("blur",this.end)}if(e){this.target[0].setCapture()}return p},overFix:function(p){p=n(p);return p},endFix:function(p){p=n(p);g.off("selectstart",this.selectstart).off("dblclick",this.end);if(l){this.target.off("losecapture",this.end)}else{d.off("blur",this.end)}if(e){this.target[0].releaseCapture()}return p}};o.create=function(u,r){var s=j(u);var z=new o();var x=o.types.start;var A=function(){};var y=u.className.replace(/^\s|\s.*/g,"")+"-drag-start";var v;var t;var q;var p;var w={onstart:A,onover:A,onend:A,off:function(){s.off(x,z.start)}};z.onstart=function(B){var D=s.css("position")==="fixed";var H=g.scrollLeft();var C=g.scrollTop();var J=s.width();var G=s.height();v=0;t=0;q=D?d.width()-J+v:g.width()-J;p=D?d.height()-G+t:g.height()-G;var F=s.offset();var E=this.startLeft=D?F.left-H:F.left;var I=this.startTop=D?F.top-C:F.top;this.clientX=B.clientX;this.clientY=B.clientY;s.addClass(y);w.onstart.call(u,B,E,I)};z.onover=function(C){var E=C.clientX-this.clientX+this.startLeft;var D=C.clientY-this.clientY+this.startTop;var B=s[0].style;E=Math.max(v,Math.min(q,E));D=Math.max(t,Math.min(p,D));B.left=E+"px";B.top=D+"px";w.onover.call(u,C,E,D)};z.onend=function(C){var B=s.position();var E=B.left;var D=B.top;s.removeClass(y);w.onend.call(u,C,E,D)};z.off=function(){s.off(x,z.start)};if(r){z.start(r)}else{s.on(x,z.start)}return w};return o});
/*!
 * artDialog-plus
 * Date: 2013-12-25
 * https://github.com/aui/artDialog
 * (c) 2009-2014 TangBin, http://www.planeArt.cn
 *
 * This is licensed under the GNU LGPL, version 2.1 or later.
 * For details, see: http://www.gnu.org/licenses/lgpl-2.1.html
 */
;c("dialog-plus",function(d){var g=d("jquery");var e=d("dialog");var f=d("drag");e.oncreate=function(n){var q=n.options;var k=q._;var h=q.url;var l=q.oniframeload;var p;if(h){this.padding=q.padding=0;p=g("<iframe />");p.attr({src:h,name:n.id,width:"100%",height:"100%",allowtransparency:"yes",frameborder:"no",scrolling:"no"}).on("load",function(){var r;try{r=p[0].contentWindow.frameElement}catch(i){}if(r){if(!q.width){n.width(p.contents().width())}if(!q.height){n.height(p.contents().height())}}if(l){l.call(n)}});n.addEventListener("beforeremove",function(){p.attr("src","about:blank").remove()},false);n.content(p[0]);n.iframeNode=p[0]}if(!(k instanceof Object)){var m=function(){n.close().remove()};for(var j=0;j<frames.length;j++){try{if(k instanceof frames[j].Object){g(frames[j]).one("unload",m);break}}catch(o){}}}g(n.node).on(f.types.start,"[i=title]",function(i){if(!n.follow){n.focus();f.create(n.node,i)}})};e.get=function(m){if(m&&m.frameElement){var k=m.frameElement;var l=e.list;var j;for(var h in l){j=l[h];if(j.node.getElementsByTagName("iframe")[0]===k){return j}}}else{if(m){return e.list[m]}}};return e});window.dialog=a("dialog-plus")})();
